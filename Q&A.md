# Вопрос & Ответ

## Суббота, 20 апреля 2024, пятиминутная встреча с экспертами.

### На платформу нужно отправлять предсказания `oil_property_param_value` на SMILES датасете?

> Нужно предсказать `oil_property_param_value` для 138 уникальных смесей
> (`blend_id`), формат ответа должен состоять из csv содержащий 2 столбца. Ответ
> продублирован в чатике, а также
> [здесь](#как-должен-выглядеть-csv-отправляемый-на-платформу). ([Вопрос на тему
> вопроса](#как-выбрать-uuid-для-файла-ответа-если-каждый-uuid-встречается-несколько-раз-с-разными-smiles))

### Необходимо ли объединять датасеты, если да, то по какому столбцу?
> Уже объеденены в `train_data_fix_concat.csv`, если вы имеете в виду публичные и приватные
> данные, то их можно нужно объеденить по столбцу `blend_id`.


### `blend_id` это идентификатор масла?
> Да.


### Мне не понятна схема распределения данных в таблице (рис. 2), не могли бы вы пояснить что на ней происходит?
> Масло состоит из нескольких компонентов, мы можем использовать эти данные для
> предсказания целевой переменной. Без использования свойств
> компонентов и smiles, решение оцениваться не будет! Нужно использовать
> подход с нескольколькими компонентами.
>
> К ответу эксперта добавлены сообщения из чата:
>
>> Alcatraz, [20.04.2024 12:30] По поводу вчерашнего вопроса по дублированию
> значений для одинаковых свойств компонентов. Мы уточнили этот момент. Так и
> должно быть. Просто эти свойства были измерены при каких-либо разных
> условиях. Например, температура использования может быть 192, 3 и т.д. Как с
> этим работать решать вам. Можете брать наибольшее, наименьшее, среднее,
> медиану и т.д. Или выкидывать эти значения. Или выбрать иной метод обработки
>
>> Alcatraz, [20.04.2024 12:33] Также хотелось бы уточнить. Если вы обучаете
> модели только на свойствах масла (oil_propetry_param_value) без
> использования свойств компонентов и smiles, то такое решение оцениваться не
> будет, так как не выполняется одно из главных условий - работа с
> многокомпонентными смесями В случае если в лидерборд вы закинете модель
> обученную только на свойствах масел, а на почту скинете уже решение с
> многокомпонентными смесями, то мы будет ранжировать заново по метрикам,
> полученным на моделях, способных работать с многокомпонентными смесями.

## Анализ чата хакатона от [Gemini 1.5 Pro](https://aistudio.google.com/app/prompts/new_chat) (дата обращения: 20.04.2024 18:57)

**Датасеты:**
- `train_data.csv`: содержит информацию о смесях и их свойствах.
- `smiles_train_set.csv`: содержит SMILES-нотации компонентов смесей и их свойства
- `train_data_fix_concat.csv`: обновлённый `train_data.csv`, объединяющий первые два с исправлениями.

### Какое свойство нужно предсказывать?
> Свойство, соответствующее UUID `ad7e6027-00b8-4c27-918c-d1561f949ad8` в столбце `oil_property_param_title`.


### Нужно ли объединять датасеты?
> Рекомендуется использовать обновленный датасет `train_data_fix_concat.csv`, который уже объединен и содержит исправления.


### Что такое `blend_id`?
> `blend_id` - это уникальный идентификатор масла.


### Почему для одного `blend_id` разное количество SMILES и названий компонентов?
> Количество компонентов в масле может быть разным, и не для каждого компонента может быть SMILES-нотация.


### Почему не для каждого компонента есть SMILES-нотация?
> Возможные причины: неопределенный состав или невозможность создать достоверную SMILES-нотацию.


### Почему у одинаковых `blend_id` в `train_data.csv` и `smiles_train_data.csv` разное значение `oil_property_param_value`?
> В датасете присутствует несколько свойств для каждого масла. Проверьте `oil_property_param_title` для определения целевого свойства.


### Есть ли соотношение компонентов в смеси (мольные доли, массовые доли, концентрации)?
> Нет, такой информации в датасете нет.


### При каких температурах измеряются свойства?
> Свойства могут быть измерены при разных температурах, но считайте, что каждое свойство измеряется в лаборатории при одинаковых условиях.


### Что такое `[C18H21]` в SMILES-нотации?
> Это алкильный дифенильный радикал.


### Можно ли соотнести SMILES с названием компонента?
> Нет, это невозможно, так как датасет зашифрован.


### Должна ли быть одна модель для всех свойств или можно использовать разные модели для разных свойств?
> Вы можете использовать любую модель или комбинацию моделей (ансамбли, конвейеры) для предсказания целевого свойства.


### Как выбрать `uuid` для файла ответа, если каждый `uuid` встречается несколько раз с разными `smiles`?
> Нужно предсказывать значение `oil_property_param_value` для каждого уникального `blend_id`, учитывая все его компоненты (`smiles`).


### Сколько может быть компонентов в смеси?
> Не определено, но адекватное количество с точки зрения химии (ориентировочно 10-20).


### Почему в обновлённом датасете `train_data_fix_concat.csv` есть дубликаты значений `oil_property_param_value` для одного `blend_id` и `oil_property_param_title`?
> Если дублирование - `NaN` или значение, берите значение. Если два значения - пока берите большее.


### Нам нужно сделать отдельные модели, которые предсказывают таргет только по smiles и только по данным (без smiles)? Сейчас, когда в `train_data_fix_concat.csv` уже добавлены smiles, это условие сохраняется?
> Вы можете делать любое количество моделей, образ решения в задаче примерный.

### Можете ещё уточнить, нам нужно сделать отдельные модели, которые предсказывают таргет только по smiles и только по данным (без smiles)? Сейчас, когда в `fix_concat` уже добавлены smiles, это условие сохраняется? Модель, которая читает файл типа `test_data_fix_concat.csv` (в котором уже есть smiles), использует все эти данные(включая smiles) и предсказывает таргет, не подойдет?
> Вы можете делать любое количество моделей, образ решения в задаче примерный. Главное, чтобы финальное решение удовлетворяло требованиям.

### Как должен выглядеть CSV отправляемый на платформу?
> ```csv
> blend_id,results
> <uuid>,<value>
> <uuid>,<value>
> <uuid>,<value>
> ```